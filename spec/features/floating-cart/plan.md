<!-- SAVE_AS: spec/features/floating-cart/plan.md -->

# План реализации

**План:** Реализовать на странице меню плавающую кнопку корзины с динамическим счётчиком выбранных блюд, обеспечить адаптивность бейджа и доступность UI, интегрировать обновление количества при добавлении блюд из карточек.

## Источники данных / схемы

- Проверить существующие источники данных корзины (контекст, store или API). Если уже есть состояние корзины, использовать предоставленный селектор/хук для получения количества выбранных блюд.
- Если состояние корзины отсутствует, создать временное хранилище в состоянии страницы меню, синхронизированное с существующей логикой добавления блюд.
- Не требуются новые таблицы или миграции; изменения ограничены клиентским состоянием.

## Контракты и интерфейсы

- UI-компонент плавающей кнопки корзины принимает количество выбранных блюд как проп и отображает иконку и бейдж.
- Кнопка должна экспонировать `onClick`, но пока обработчик может быть заглушкой или передаваться пустой функцией.
- Карточки блюд при добавлении вызывают существующий метод/диспатч, который должен увеличивать количество в корзине; нужно удостовериться, что счётчик подписан на то же состояние.
- Обеспечить aria-лейбл (например, «Корзина: {count} блюд») и доступность клавиатурой.

## Архитектура / Компоненты

- Добавить на страницу меню компонент FloatingCartButton с фиксированным позиционированием (`bottom/right` с отступами), стилями и бейджем счётчика.
- Использовать существующую дизайн-систему кнопок/иконок; при отсутствии — применить Tailwind/стили проекта для создания круглой кнопки с иконкой корзины.
- Реализовать бейдж с абсолютным позиционированием внутри кнопки, применить гибкие стили (минимальная ширина, паддинги, закруглённые углы) для поддержки многозначных чисел.
- Подключить компонент к состоянию корзины через контекст/Redux/реактивные хуки; при изменении количества триггерить перерисовку.
- Обеспечить, что кнопка не перекрывает критические элементы (использовать z-index и отступы, проверить пересечение с футером/чипами).

## Риски

- Несогласованность источников данных корзины может привести к неверному отображению счётчика; нужно проверить интеграцию с существующей логикой.
- Перекрытие UI на мобильных устройствах, если размеры кнопки или бейджа будут слишком большими; требуется визуальное тестирование.
- При отсутствии централизованного состояния корзины может понадобиться временная реализация, которую позже придётся переработать.

## Допущения

- Иконка корзины доступна в проекте или может быть добавлена без дополнительного согласования.
- Команда подтверждает размеры и отступы кнопки в рамках стандартов дизайна.
- Дальнейшее поведение по клику (открытие корзины) будет реализовано в отдельных фичах.
