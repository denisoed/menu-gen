<!-- SAVE_AS: spec/features/floating-cart/tasks.md -->

# Задачи

**Контекст:** Добавить на страницу меню плавающую кнопку корзины с динамическим счётчиком выбранных блюд, обеспечить адаптивность бейджа для разных чисел и обновление количества при добавлении блюд.

Запуск `/spec/core/verify.md` нужен только после выполнения всех задач, до этого проверка полноты списка не требуется.

## Основные направления

### UI и верстка

- [x] Создать компонент плавающей кнопки корзины с фиксированным позиционированием, иконкой и базовыми стилями под мобильные и десктопные разрешения; визуально убедиться, что элемент не перекрывает ключевой контент.
- [x] Реализовать бейдж счётчика в правом верхнем углу кнопки с круглыми границами для однозначных чисел и адаптивной шириной для значений из нескольких цифр.
- [x] Добавить aria-лейбл, табиндекс и состояния фокуса, проверить контрастность и доступность для клавиатурной навигации.

### Логика и состояние

- [x] Подключить компонент к источнику данных корзины (контекст/стор), отобразить текущее количество выбранных блюд; при отсутствии источника — временно хранить значение в состоянии страницы.
- [x] Обновлять счётчик при клике на кнопку добавления блюда в карточке, убедиться, что быстрое повторное нажатие корректно инкрементирует значение.
- [x] Подготовить интерфейс `onClick` для кнопки корзины без бизнес-логики, чтобы в будущем легко подключить открытие корзины.
- [x] hotfix_2025-09-26 Остановить всплытие клика на кнопке добавления блюда через `@click.stop`, вручную проверить, что переход по ссылке карточки не срабатывает и счётчик корзины увеличивается.

## Поддерживающие задачи

- [x] Документация: описать поведение кнопки корзины и требования к состоянию в README/Notion по фиче.
- [x] Наблюдаемость: добавить при необходимости консольные или аналитические события для отслеживания кликов по кнопке корзины.
- [x] Code review и PR: подготовить изменения к ревью, добавить описание сценариев проверки и скриншоты.

## Definition of Done

- [x] Все задачи выполнены и протестированы на основных разрешениях.
- [x] Релевантные unit/e2e/интеграционные тесты проходят успешно.
- [x] Документация и операционные инструкции обновлены.
- [x] `/spec/core/verify.md` выполнен после завершения всех задач для проверки списка задач.
