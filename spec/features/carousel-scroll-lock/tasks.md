<!-- SAVE_AS: spec/features/carousel-scroll-lock/tasks.md -->

# Задачи

**Контекст:** Требуется исключить вертикальный скролл страницы при горизонтальном свайпе в компонентах `vue3-carousel`, предпочтительно используя штатные настройки плагина и при необходимости расширяя их кастомной обработкой.

## Основные направления

### Анализ и конфигурация

- [ ] Изучить документацию `vue3-carousel` и проверить существующие пропсы (`touchDrag`, `mouseDrag`, `preventExcessiveDragging`, `touch-action` рекомендации), которые могут ограничить вертикальные жесты.
- [ ] Проанализировать текущие реализации `BannerCarousel.vue` и `PopularCarousel.vue`: зафиксировать используемые пропсы/слоты, наличие кастомных обработчиков и стили контейнера (`touch-action`, `overflow`).
- [ ] Решить, достаточно ли конфигурации плагина; при необходимости спроектировать новый проп/композицию для повторного использования поведения блокировки.

### Реализация поведения свайпа

- [ ] Настроить плагин или реализовать кастомную логику определения направления жеста: сохранять координаты при `pointerdown`/`touchstart`, определять преобладание горизонтали и блокировать вертикальный скролл (`preventDefault`, `stopPropagation`).
- [ ] Добавить/скорректировать CSS (`touch-action`, `user-select`, `overscroll-behavior`) на контейнере карусели для совместимости с выбранным подходом.
- [ ] Обеспечить корректное подключение и очистку слушателей при размонтировании компонентов и обработать множественные касания (`touchcancel`, `pointercancel`).

### Тестирование и проверка

- [ ] Написать компонентные/юнит-тесты, проверяющие: горизонтальный свайп блокирует вертикальный скролл и переключает слайд; вертикальный/диагональный свайп с преобладанием вертикали не блокирует скролл.
- [ ] Провести ручные проверки на iOS Safari, Android Chrome и десктопном браузере с тачпадом; задокументировать результаты и возможные ограничения.

## Поддерживающие задачи

- [ ] Обновить документацию/README компонента карусели, описав включённые настройки или новый проп и сценарии использования.
- [ ] Проверить консоль браузера на наличие предупреждений об обработчиках событий (например, `passive` слушатели) и устранить их; при отсутствии системы наблюдаемости — задокументировать проверку.
- [ ] Подготовить PR с описанием проблемы, выбранного решения, ссылками на документацию плагина и проведёнными тестами.

## Definition of Done

- Вертикальный скролл не срабатывает при горизонтальном свайпе в карусели на поддерживаемых устройствах.
- Автоматические и ручные тесты пройдены; регрессий в навигации и доступности нет.
- Документация и инструкции для QA обновлены, код соответствует стандартам проекта.
