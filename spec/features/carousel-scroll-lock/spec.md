<!-- SAVE_AS: spec/features/carousel-scroll-lock/spec.md -->

# Блокировка вертикального скролла при свайпе карусели

**Спецификация:** При горизонтальном свайпе карточек карусели страница прокручивается вместе со слайдами. Нужно обеспечить, чтобы свайпы по области карусели переключали только слайды, не затрагивая вертикальный скролл страницы, с корректной работой на мобильных устройствах и десктопах с тачпадами.

## User Stories

- Как посетитель мобильной версии меню, я хочу листать карточки карусели горизонтальным свайпом, чтобы быстро просматривать блюда, не теряя текущую позицию на странице.
- Как пользователь планшета, я хочу, чтобы вертикальный скролл не срабатывал при горизонтальном жесте в карусели, чтобы избежать случайных скачков страницы.
- Как менеджер продукта, я хочу, чтобы изменение не ломало существующие сценарии навигации и было совместимо с текущим стеком Vue и Tailwind, чтобы снизить риск регрессий.

## Основные сценарии и правила

- Горизонтальные жесты внутри карусели переводят её на соседний слайд и не инициируют вертикальный скролл родительской страницы.
- Вертикальные жесты внутри карусели должны продолжать скроллить страницу, если пользователь явно двигается вертикально, чтобы не блокировать стандартную навигацию.
- На десктопах с мышью управление остаётся через стрелки/кнопки, при этом колесо мыши прокручивает страницу как раньше.
- Обрабатывать случаи диагональных жестов: если вертикальная составляющая существенная, нужно позволить странице прокрутиться.
- Предусмотреть отключение/снятие обработчиков при уничтожении компонента и при отключении карусели (например, в неактивных вкладках).
- Сценарии ошибок: при недоступности touch-событий карусель должна работать в текущем режиме без блокировки.

## Нефункциональные требования

- Поддержка основных мобильных браузеров (Safari iOS 15+, Chrome/Edge/Firefox Android 11+).
- Производительность: обработка жестов не должна вызывать фризы; минимум выделений в каждом кадре, использование пассивных слушателей только где безопасно.
- Доступность: управление каруселью с клавиатуры и скринридеров не должно ухудшиться.
- Код должен быть покрыт модульными или компонентными тестами на основные сценарии свайпа.
- Совместимость с SSR/Vite: не обращаться к `window`/`document` до монтирования.

## Assumptions

- Карусель реализована как Vue-компонент и уже поддерживает переключение слайдов программно.
- В проекте уже используется Tailwind и собственные UI-компоненты; новых библиотек подключать не планируется.
- Поддерживаются устройства с pointer events; старые браузеры без них не целевой сегмент.
- Вёрстка страницы не требует дополнительных правок для достижения цели, достаточно поведения компонента.
